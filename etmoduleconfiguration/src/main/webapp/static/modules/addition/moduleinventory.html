<!DOCTYPE html>
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Etrust | Adición de módulos</title>
<meta name="description" content="Módulos gratis de para ecommerce">
<meta name="author" content="Carlos Lopez">

<!-- Mobile Meta -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="../../assets/images/favicon.ico">

<!-- Web Fonts -->
<link
	href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700,300&amp;subset=latin,latin-ext'
	rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Raleway:700,400,300'
	rel='stylesheet' type='text/css'>

<!-- Bootstrap core CSS -->
<link href="../../assets/bootstrap/css/bootstrap.css" rel="stylesheet">

<!-- Font Awesome CSS -->
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

<!-- Plugins -->
<link href="../../assets/css/animations.css" rel="stylesheet">

<!-- Worthy core CSS file -->
<link href="../../assets/css/style.css" rel="stylesheet">

<!-- Custom css -->
<link href="../../assets/css/custom.css" rel="stylesheet">



</head>
<body class="no-trans">
	<!-- scrollToTop -->
	<!-- ================ -->
	<div class="scrollToTop">
		<i class="icon-up-open-big"></i>
	</div>

	<!-- header start -->
	<!-- ================ -->
	<header class="header fixed clearfix navbar navbar-fixed-top">
		<div class="container">
			<div class="row">
				<div class="col-md-4">

					<!-- header-left start -->
					<!-- ================ -->
					<div class="header-left clearfix">

						<!-- logo -->
						<div class="logo smooth-scroll">
							<a href="../../"><img id="logo"
								src="../../assets/images/logo.png" alt="eTrust"></a>
						</div>

						<!-- name-and-slogan -->
						<div class="site-name-and-slogan smooth-scroll">
							<div class="site-name">
								<a href="#banner">e<span>Trust</span></a>
							</div>
							<div class="site-slogan">
								Incrementa la confianza <a target="_blank"
									href="http://htmlcoder.me">Link a github</a>
							</div>
						</div>

					</div>
					<!-- header-left end -->

				</div>
				<div class="col-md-8">

					<!-- header-right start -->
					<!-- ================ -->
					<div class="header-right clearfix">

						<!-- main-navigation start -->
						<!-- ================ -->
						<div class="main-navigation animated">

							<!-- navbar start -->
							<!-- ================ -->
							<nav class="navbar navbar-default" role="navigation">
								<div class="container-fluid">

									<!-- Toggle get grouped for better mobile display -->
									<div class="navbar-header">
										<button type="button" class="navbar-toggle"
											data-toggle="collapse" data-target="#navbar-collapse-1">
											<span class="sr-only">Toggle navigation</span> <span
												class="icon-bar"></span> <span class="icon-bar"></span> <span
												class="icon-bar"></span>
										</button>
									</div>

									<!-- Collect the nav links, forms, and other content for toggling -->
									<div class="collapse navbar-collapse scrollspy smooth-scroll"
										id="navbar-collapse-1">
										<ul class="nav navbar-nav navbar-right">
											<li><a href="../../">Inicio</a></li>
											<li><a href="../integration/settings.html">Configuración inicial</a></li>
											<li><a href="../configuration/moduleconfiguration.html">Configurar módulos</a></li>
										</ul>
									</div>

								</div>
							</nav>
							<!-- navbar end -->

						</div>
						<!-- main-navigation end -->

					</div>
					<!-- header-right end -->

				</div>
			</div>
		</div>
	</header>
	<!-- header end -->

	<!-- banner start -->
	<!-- ================ -->
	<div class="banner-image-addmodules"></div>
	<div class="banner-caption-settings">
		<div class="container">
			<div class="row">
				<div class="col-md-8 col-md-offset-2">

					<div class="row">
						<h1 class="text-center">
							Adicionar<span> Módulos</span>
						</h1>
						<p class="lead text-center">En esta página puedes adicionar los módulos que quieras 
						integrar a tu solución ecommerce. Recuerda que debes haber llenado la información de conexión a la 
						base de datos en la página de <a href="../integration/settings.html">Configuración inicial.</a> 
						Luego de adicionar los módulos que deseas, ve a <a href="../configuration/moduleconfiguration.html">Configuración de módulos.</a> para personalizarlos.</p>
					</div>

				</div>
			</div>


		</div>
	</div>
	<!-- banner end -->

	<!-- section start -->
	<!-- ================ -->
	<div class="section clearfix object-non-visible"
		data-animation-effect="fadeIn">
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					
					<div class="row">
					<h1 id="conexion" class="title text-left">
						Módulos<span> disponibles</span>
					</h1>
					<p class="lead text-left">Por favor selecciona los módulos que deseas integrar a tu solución.</p>
					</div>
					<div class = "row">
						<ul>
							<li>
								<a href="#preventaTitle">Módulo de Preventa</a>
							</li>
							<li>
								<a href="#postventaTitle">Módulo de Postventa</a>
							</li>
						</ul>
					</div>
					<hr>
					<div id="preventaTitle" class = "row">
						<h2>Módulo de <span>Preventa</span></h2>
					</div>
					<hr>
					<div class="row">

						<div class="col-xs-4 moduleGrid">
							
							<div class = "row">
								<h3 style="color:#339BEB">Calificación de productos</h3>
							</div>
							<div class = "row">
							  <img alt="Calificación de productos" src="../../assets/images/calificacionproductos.jpg">
							</div>
							
							<div class = "row">
								<p>Da la posibilidad a tus clientes de calificar toda su experiencia de compra.<p>
							</div>
							
							<div class = "row">
								<button id="adicionarCalificacion" type="button" class="btn btn-default">Adicionar</button>
							</div>
							
						</div>
						
						
						<div class="col-xs-4 moduleGrid">
							
							<div class = "row">
								<h3 style="color:#339BEB">Canales de comunicación</h3>
							</div>
							<div class = "row">
							  <img alt="Calificación de productos" style="height:252px" src="../../assets/images/comunicacionclientes.jpg">
							</div>
							
							<div class = "row">
								<p>Amplia los canales de comunicación con tus clientes, dándoles más opciones para contactarte<p>
							</div>
							
							<div class = "row">
								<button id="adicionarComunicacion" type="button" class="btn btn-warning disabled">Próximamente</button>
							</div>
							
						</div>
						
						<div class="col-xs-4 moduleGrid">
							
							<div class = "row">
								<h3 style="color:#339BEB">Información de productos</h3>
							</div>
							<div class = "row">
							  <img style="height:252px" alt="Calificación de productos" src="../../assets/images/productinformation.gif">
							</div>
							
							<div class = "row">
								<p>Muestra la información necesaria de tus productos para que tus clientes estén seguros de su compra.<p>
							</div>
							
							<div class = "row">
								<button id="adicionarInfoProductos" type="button" class="btn btn-warning disabled">Próximamente</button>
							</div>
							
						</div>
						
						

					</div>
					<hr>
					<div id="postventaTitle" class = "row">
						<h2>Módulo de <span>Postventa</span></h2>
					</div>
					<hr>
					<div class="row">

						<div class="col-xs-4 moduleGrid">
							
							<div class = "row">
								<h3 style="color:#339BEB">Campañas publicitarias</h3>
							</div>
							<div class = "row">
							  <img alt="Calificación de productos" src="../../assets/images/publicidadclientes.jpg">
							</div>
							
							<div class = "row">
								<p>Publica tus productos a través de redes sociales o redes de anuncios.<p>
							</div>
							
							<div class = "row">
								<button id="adicionarPublicitarias" type="button" class="btn btn-warning disabled">Próximamente</button>
							</div>
							
						</div>
						</div>
						
				</div>
			</div>
		</div>
	</div>
	<!-- section end -->


		<!-- Modal -->
	<div id="modalResult" class="modal fade" role="dialog">
		<div class="modal-dialog">

			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Activación de módulo</h4>
				</div>
				<div class="container">
					<div class="row">
						<p style="padding-top: 17px; padding-left: 23px;"
							id="resultOperation"></p>
					</div>
				</div>
				<div class="modal-footer">
					<div class="row">
						<div class="col-md-1">
							<button id = "closeSaveStatusAdd" type="button" class="btn btn-default"
								data-dismiss="modal">Cerrar</button>
						</div>
					</div>
				</div>
			</div>

		</div>
	</div>

	<!-- JavaScript files placed at the end of the document so the pages load faster
		================================================== -->
	<!-- Jquery and Bootstap core js files -->
	<script type="text/javascript" src="../../assets/plugins/jquery.min.js"></script>
	<script type="text/javascript"
		src="../../assets/bootstrap/js/bootstrap.min.js"></script>

	<!-- Modernizr javascript -->
	<script type="text/javascript" src="../../assets/plugins/modernizr.js"></script>

	<!-- Isotope javascript -->
	<script type="text/javascript"
		src="../../assets/plugins/isotope/isotope.pkgd.min.js"></script>

	<!-- Backstretch javascript -->
	<script type="text/javascript"
		src="../../assets/plugins/jquery.backstretch.min.js"></script>

	<!-- Appear javascript -->
	<script type="text/javascript"
		src="../../assets/plugins/jquery.appear.js"></script>

	<!-- Initialization of Plugins -->
	<script type="text/javascript" src="../../assets/js/template.js"></script>

	<!-- Custom Scripts -->
	<script type="text/javascript" src="../../assets/js/custom.js"></script>
	
	<script>
		$(document).ready(
			function() {
				
			var yaLoTiene = false;
			var moduleId;
			$.ajax({type: "GET",
				  url: "/etmoduleconfiguration/initialconf/getCurrentModules",
				  dataType: "json",
				  data:{},
				  success:function(data){
			
						if(!data.response) return;
						
						if (data.response[0].moduleStatus == "active"){
							yaLoTiene = true;
							cambiarEstadoBoton();
						}
						else{
							yaLoTiene = false;
							cambiarEstadoBoton();
						}
						moduleId = data.response[0].moduleId;
				  }
			});	
			
			function cambiarEstadoBoton(){
				if(yaLoTiene){
					$("#adicionarCalificacion").removeClass("btn-default");
					$("#adicionarCalificacion").addClass("btn-success");
					$("#adicionarCalificacion").text("Ya lo tienes!");
				}else{
					$("#adicionarCalificacion").removeClass("btn-success");
					$("#adicionarCalificacion").addClass("btn-default");
					$("#adicionarCalificacion").text("Adicionar");
				}
			}
				
			$("#adicionarCalificacion").click(
			function(event) {
				var url = "/etmoduleconfiguration/initialconf/"
				if (!yaLoTiene){
					url += "activateModule";
				}else{
					url += "deactivateModule";
				}
				
				$.post(url,{"moduleId":moduleId}).
					done(function(data) {
						yaLoTiene = !yaLoTiene;
						cambiarEstadoBoton();
						$("#resultOperation").html("Has modificado el módulo correctamente.");
						$("#modalResult").modal("show");
					}).fail(function(error) {
							$("#resultOperation").html("Ocurrio un error llamando nuestros servicios."+
									" Por favor intenta nuevamente.");
							$("#modalResult").modal("show");
					});

			});

		});
		
		
	</script>
	
	
</body>

</html>